<!--
  Page contenant les détails d'un enseignant
  @author Jonathan Carrière
-->
<ion-content [fullscreen]="true">
  <app-chargement [etatChargement]="chargement"></app-chargement>
  <app-menu></app-menu>
  <section class="principale">
    <ion-breadcrumbs [maxItems]="maxBreadCrumbs" (ionCollapsedClick)="expandBreadcrumbs()">
      <ion-breadcrumb href="/accueil">Accueil</ion-breadcrumb>
      <ion-breadcrumb href="/enseignants">Enseignants</ion-breadcrumb>
      <ion-breadcrumb>{{enseignant.nom}}, {{enseignant.prenom}}</ion-breadcrumb>
    </ion-breadcrumbs>
    <h1 class="ion-text-center">{{enseignant.nom}}, {{enseignant.prenom}}</h1>
    <p class="ion-text-center">Bureau: {{enseignant.bureau}}<span *ngIf="enseignant.poste">, Poste: {{enseignant.poste}}</span></p>
    <p class="ion-text-center">Courriel: {{enseignant.courriel}}</p>
    <ion-grid>
      <ion-row class="sectionMarginBottom">
        <ion-col class="ion-text-start">
          <ion-button class="btn btnFixe ion-text-wrap" *ngIf="authService.verifierRoleUtilisateurConnecte([1, 2, 3, 4])" href='/enseignant/modifier/{{enseignant.id}}'>Modifier</ion-button>
        </ion-col>
        <ion-col class="ion-text-end">
          <ion-button class="btn btnFixe ion-text-wrap" *ngIf="authService.verifierRoleUtilisateurConnecte([1, 2, 3, 4])" color="danger" (click)="confirmSuppression(enseignant)">Supprimer</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <h2 class="ion-text-center">Programmes</h2>
          <p *ngIf="!chargement && enseignant.programmes?.length === 0" class="messageErreur">Cet enseignant ne possède pas de programmes</p>
        </ion-col>
      </ion-row>
      <ul class="cards">
        <li *ngFor="let programme of enseignant.programmes">
          <ion-card class="carteListe">
            <ion-card-header>
              <ion-card-title>({{programme.code}}) {{programme.titre}}</ion-card-title>
            </ion-card-header>
            <ion-card-content class="ion-float-sm-end">
              <ion-button class="btn btnFixe ion-text-wrap" href='/details-programmes/{{programme.id}}'>Détails</ion-button>
            </ion-card-content>
          </ion-card>
        </li>
      </ul>
    </ion-grid>
  </section>
</ion-content>
